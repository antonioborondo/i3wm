#!/bin/bash

deactivate_monitors () {
  monitors=$(xrandr | grep " connected" | awk '{print $1}')
  for monitor in $monitors
  do
    xrandr --output $monitor --off
  done
}

case "$1" in
  laptop)
    deactivate_monitors
    if [[ $(uname -a) =~ "mega" ]]
    then
      xrandr --output eDP-1 --primary --mode 3456x2160 --pos 0x0 --rotate normal
    else
      xrandr --output eDP-1 --primary --mode 1920x1080 --pos 0x0 --rotate normal
    fi
    ;;
  external)
    deactivate_monitors
    if [[ $(uname -a) =~ "mega" ]]
    then
      xrandr --output DP-4-3 --primary --mode 3440x1440 --pos 0x0 --rotate normal
    else
      xrandr --output DP-1-3 --primary --mode 3440x1440 --pos 0x0 --rotate normal
    fi
    ;;
  *)
    echo "Usage: $0 {laptop|external}"
    exit 2
esac

exit 0
